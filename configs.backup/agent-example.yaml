# Boreas Operator PM Agent 配置文件示例
# 复制此文件为 agent.yaml 并根据需要修改配置

# 服务器配置
server:
  host: "0.0.0.0" # 监听地址
  port: 8081 # 监听端口

# 日志配置
log:
  level: "info" # 日志级别: debug, info, warn, error
  format: "json" # 日志格式: json, text
  output: "stdout" # 输出目标: stdout, stderr, 文件路径

# Agent 配置
agent:
  # Agent 唯一标识符（必需）
  # 用于在 Operator-PM 中识别此 Agent
  id: "pm-node-1"

  # 主机名（可选）
  # 如果未设置，将使用系统主机名
  hostname: "pm-node-1.example.com"

  # 工作目录
  # 用于存储应用状态、配置和日志
  work_dir: "/var/lib/boreas-agent"

  # Docker 配置
  docker:
    # 是否启用 Docker 支持
    enabled: true

    # Docker Socket 路径
    # 用于与 Docker 守护进程通信
    socket_path: "/var/run/docker.sock"

    # Docker 镜像仓库地址（可选）
    # 用于拉取镜像时的默认仓库
    registry: "registry.example.com"

    # 网络模式
    # 创建容器时使用的网络模式
    network_mode: "bridge" # bridge, host, none

  # 健康检查配置
  health:
    # 检查间隔（秒）
    # 定期检查应用健康状态的间隔时间
    check_interval: 30

    # 超时时间（秒）
    # 健康检查的超时时间
    timeout: 10

    # 重试次数
    # 健康检查失败时的重试次数
    retry_count: 3

  # 自定义配置
  # 可以添加任意键值对配置
  config:
    # 示例自定义配置
    # custom_setting: "value"
    # another_setting: "another_value"

    # 应用部署超时时间（秒）
    deploy_timeout: 300

    # 最大并发部署数
    max_concurrent_deployments: 5

    # 应用状态检查间隔（秒）
    status_check_interval: 60
