import type {
  Version,
  Application,
  Environment,
  Deployment,
  DeploymentDetail,
  DashboardStats,
  DeploymentTrend,
} from '@/types'

export const mockVersions: Version[] = [
  {
    version: 'v1.2.3',
    git: { tag: 'v1.2.3' },
    applications: [
      { name: 'user-service', coverage: 85, health: 92, lastUpdatedAt: '2024-10-20T10:00:00Z' },
      { name: 'order-service', coverage: 78, health: 88, lastUpdatedAt: '2024-10-20T10:00:00Z' },
    ],
    createdAt: '2024-10-20T10:00:00Z',
  },
  {
    version: 'v1.2.2',
    git: { tag: 'v1.2.2' },
    applications: [
      { name: 'user-service', coverage: 85, health: 90, lastUpdatedAt: '2024-10-19T15:30:00Z' },
    ],
    createdAt: '2024-10-19T15:30:00Z',
  },
  {
    version: 'v1.2.1',
    git: { tag: 'v1.2.1' },
    applications: [
      { name: 'payment-service', coverage: 72, health: 85, lastUpdatedAt: '2024-10-18T09:00:00Z' },
    ],
    createdAt: '2024-10-18T09:00:00Z',
  },
]

export const mockApplications: Application[] = [
  {
    name: 'user-service',
    description: '用户服务',
    versions: [
      {
        version: 'v1.2.3',
        status: 'normal',
        health: 92,
        lastUpdatedAt: '2024-10-20T10:00:00Z',
        nodes: [
          { name: 'node1', health: 95, lastUpdatedAt: '2024-10-20T10:00:00Z' },
          { name: 'node2', health: 89, lastUpdatedAt: '2024-10-20T09:55:00Z' },
        ],
      },
      {
        version: 'v1.2.2',
        status: 'revert',
        health: 88,
        lastUpdatedAt: '2024-10-19T15:30:00Z',
        nodes: [
          { name: 'node1', health: 87, lastUpdatedAt: '2024-10-19T15:25:00Z' },
        ],
      },
    ],
  },
  {
    name: 'order-service',
    description: '订单服务',
    versions: [
      {
        version: 'v1.2.3',
        status: 'normal',
        health: 88,
        lastUpdatedAt: '2024-10-20T10:00:00Z',
        nodes: [
          { name: 'node3', health: 90, lastUpdatedAt: '2024-10-20T10:00:00Z' },
        ],
      },
    ],
  },
  {
    name: 'payment-service',
    description: '支付服务',
    versions: [
      {
        version: 'v1.2.1',
        status: 'normal',
        health: 85,
        lastUpdatedAt: '2024-10-18T09:00:00Z',
        nodes: [
          { name: 'node4', health: 88, lastUpdatedAt: '2024-10-18T09:00:00Z' },
          { name: 'node5', health: 82, lastUpdatedAt: '2024-10-18T08:55:00Z' },
        ],
      },
    ],
  },
]

export const mockEnvironments: Environment[] = [
  {
    id: 'env1',
    name: 'production',
    type: 'k8s',
    status: 'active',
    applicationCount: 2,
  },
  {
    id: 'env2',
    name: 'staging',
    type: 'k8s',
    status: 'active',
    applicationCount: 3,
  },
  {
    id: 'env3',
    name: 'development',
    type: 'physical',
    status: 'active',
    applicationCount: 1,
  },
]

export const mockDeployments: Deployment[] = [
  {
    id: 'v1.2.3',
    versionId: 'v1.2.3',
    version: 'v1.2.3',
    applicationIds: ['user-service', 'order-service'],
    applications: ['user-service', 'order-service'],
    environmentIds: ['env1'],
    environments: ['production'],
    status: 'running',
    progress: 75,
    createdAt: '2024-10-20T10:00:00Z',
    updatedAt: '2024-10-20T10:30:00Z',
    requireConfirm: false,
    grayscaleEnabled: true,
    grayscaleRatio: 50,
  },
  {
    id: 'v1.2.2',
    versionId: 'v1.2.2',
    version: 'v1.2.2',
    applicationIds: ['user-service'],
    applications: ['user-service'],
    environmentIds: ['env2'],
    environments: ['staging'],
    status: 'success',
    progress: 100,
    createdAt: '2024-10-19T15:30:00Z',
    updatedAt: '2024-10-19T16:00:00Z',
    duration: 1800,
    requireConfirm: false,
    grayscaleEnabled: false,
  },
  {
    id: 'v1.2.1',
    versionId: 'v1.2.1',
    version: 'v1.2.1',
    applicationIds: ['payment-service'],
    applications: ['payment-service'],
    environmentIds: ['env3'],
    environments: ['development'],
    status: 'failed',
    progress: 50,
    createdAt: '2024-10-18T09:00:00Z',
    updatedAt: '2024-10-18T09:30:00Z',
    duration: 1800,
    requireConfirm: false,
    grayscaleEnabled: false,
  },
  {
    id: 'v1.2.0',
    versionId: 'v1.2.0',
    version: 'v1.2.0',
    applicationIds: ['user-service'],
    applications: ['user-service'],
    environmentIds: ['env1'],
    environments: ['production'],
    status: 'waiting_confirm',
    progress: 0,
    createdAt: '2024-10-17T14:00:00Z',
    updatedAt: '2024-10-17T14:00:00Z',
    requireConfirm: true,
    grayscaleEnabled: false,
  },
]

export const mockDeploymentDetails: Record<string, DeploymentDetail> = {
  'v1.2.3': {
    id: 'v1.2.3',
    versionId: 'v1.2.3',
    version: 'v1.2.3',
    applicationIds: ['user-service', 'order-service'],
    applications: ['user-service', 'order-service'],
    environmentIds: ['env1'],
    environments: ['production'],
    status: 'running',
    progress: 75,
    createdAt: '2024-10-20T10:00:00Z',
    updatedAt: '2024-10-20T10:30:00Z',
    duration: 1800,
    requireConfirm: false,
    grayscaleEnabled: true,
    grayscaleRatio: 50,
    steps: [
      {
        id: '1',
        name: '准备部署',
        status: 'success',
        duration: 300,
        logs: ['检查版本信息...', '验证配置文件...', '准备完成'],
      },
      {
        id: '2',
        name: '拉取镜像',
        status: 'success',
        duration: 600,
        logs: ['拉取镜像 user-service:v1.2.3', '拉取镜像 order-service:v1.2.3', '镜像拉取完成'],
      },
      {
        id: '3',
        name: '更新服务',
        status: 'running',
        logs: ['更新 user-service 配置', '重启 user-service pod', '等待服务就绪...'],
      },
      {
        id: '4',
        name: '健康检查',
        status: 'pending',
      },
    ],
    logs: [
      { timestamp: '2024-10-20T10:00:00Z', level: 'info', message: '部署开始' },
      { timestamp: '2024-10-20T10:05:00Z', level: 'info', message: '准备完成' },
      { timestamp: '2024-10-20T10:15:00Z', level: 'info', message: '镜像拉取完成' },
      { timestamp: '2024-10-20T10:15:00Z', level: 'info', message: '开始更新服务' },
      { timestamp: '2024-10-20T10:20:00Z', level: 'info', message: '更新中...' },
    ],
  },
  'v1.2.2': {
    id: 'v1.2.2',
    versionId: 'v1.2.2',
    version: 'v1.2.2',
    applicationIds: ['user-service'],
    applications: ['user-service'],
    environmentIds: ['env2'],
    environments: ['staging'],
    status: 'success',
    progress: 100,
    createdAt: '2024-10-19T15:30:00Z',
    updatedAt: '2024-10-19T16:00:00Z',
    duration: 1800,
    requireConfirm: false,
    grayscaleEnabled: false,
    steps: [
      {
        id: '1',
        name: '准备部署',
        status: 'success',
        duration: 300,
        logs: ['检查版本信息...', '验证配置文件...', '准备完成'],
      },
      {
        id: '2',
        name: '拉取镜像',
        status: 'success',
        duration: 300,
        logs: ['拉取镜像 user-service:v1.2.2', '镜像拉取完成'],
      },
      {
        id: '3',
        name: '更新服务',
        status: 'success',
        duration: 900,
        logs: ['更新 user-service 配置', '重启 user-service pod', '服务更新完成'],
      },
      {
        id: '4',
        name: '健康检查',
        status: 'success',
        duration: 300,
        logs: ['检查服务健康状态', '所有健康检查通过', '部署成功'],
      },
    ],
    logs: [
      { timestamp: '2024-10-19T15:30:00Z', level: 'info', message: '部署开始' },
      { timestamp: '2024-10-19T15:35:00Z', level: 'info', message: '准备完成' },
      { timestamp: '2024-10-19T15:40:00Z', level: 'info', message: '镜像拉取完成' },
      { timestamp: '2024-10-19T15:55:00Z', level: 'info', message: '服务更新完成' },
      { timestamp: '2024-10-19T16:00:00Z', level: 'info', message: '部署成功' },
    ],
  },
  'v1.2.1': {
    id: 'v1.2.1',
    versionId: 'v1.2.1',
    version: 'v1.2.1',
    applicationIds: ['payment-service'],
    applications: ['payment-service'],
    environmentIds: ['env3'],
    environments: ['development'],
    status: 'failed',
    progress: 50,
    createdAt: '2024-10-18T09:00:00Z',
    updatedAt: '2024-10-18T09:30:00Z',
    duration: 1800,
    requireConfirm: false,
    grayscaleEnabled: false,
    steps: [
      {
        id: '1',
        name: '准备部署',
        status: 'success',
        duration: 300,
        logs: ['检查版本信息...', '验证配置文件...', '准备完成'],
      },
      {
        id: '2',
        name: '拉取镜像',
        status: 'failed',
        duration: 1500,
        logs: [
          '拉取镜像 payment-service:v1.2.1',
          '连接到节点...',
          '错误: 连接超时',
          '重试 1/3...',
          '错误: 连接超时',
          '重试 2/3...',
          '错误: 连接超时',
          '部署失败: 节点连接超时',
        ],
      },
    ],
    logs: [
      { timestamp: '2024-10-18T09:00:00Z', level: 'info', message: '部署开始' },
      { timestamp: '2024-10-18T09:05:00Z', level: 'info', message: '准备完成' },
      { timestamp: '2024-10-18T09:05:00Z', level: 'info', message: '开始拉取镜像' },
      { timestamp: '2024-10-18T09:10:00Z', level: 'error', message: '连接超时' },
      { timestamp: '2024-10-18T09:20:00Z', level: 'error', message: '连接超时' },
      { timestamp: '2024-10-18T09:30:00Z', level: 'error', message: '部署失败: 节点连接超时' },
    ],
  },
  'v1.2.0': {
    id: 'v1.2.0',
    versionId: 'v1.2.0',
    version: 'v1.2.0',
    applicationIds: ['user-service'],
    applications: ['user-service'],
    environmentIds: ['env1'],
    environments: ['production'],
    status: 'waiting_confirm',
    progress: 0,
    createdAt: '2024-10-17T14:00:00Z',
    updatedAt: '2024-10-17T14:00:00Z',
    requireConfirm: true,
    grayscaleEnabled: false,
    steps: [
      {
        id: '1',
        name: '准备部署',
        status: 'pending',
      },
      {
        id: '2',
        name: '拉取镜像',
        status: 'pending',
      },
      {
        id: '3',
        name: '更新服务',
        status: 'pending',
      },
      {
        id: '4',
        name: '健康检查',
        status: 'pending',
      },
    ],
    logs: [
      { timestamp: '2024-10-17T14:00:00Z', level: 'info', message: '部署创建，等待确认' },
    ],
  },
}

export const mockDashboardStats: DashboardStats = {
  activeVersions: 3,
  runningDeployments: 1,
  totalApplications: 3,
  totalEnvironments: 3,
}

export const mockDeploymentTrends: DeploymentTrend[] = [
  { date: '2024-10-14', count: 6, successCount: 5, failedCount: 1 },
  { date: '2024-10-15', count: 3, successCount: 3, failedCount: 0 },
  { date: '2024-10-16', count: 9, successCount: 7, failedCount: 2 },
  { date: '2024-10-17', count: 5, successCount: 4, failedCount: 1 },
  { date: '2024-10-18', count: 7, successCount: 6, failedCount: 1 },
  { date: '2024-10-19', count: 5, successCount: 5, failedCount: 0 },
  { date: '2024-10-20', count: 8, successCount: 8, failedCount: 0 },
]
